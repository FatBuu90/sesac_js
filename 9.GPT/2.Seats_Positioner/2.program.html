<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>랜덤 좌석 배치</title>
  <style>
    :root{
      --bg:#f6f8fa;
      --table:#fff;
      --accent:#2b8aef;
      --muted:#6b7280;
    }
    html,body{height:100%;}
    body{
      margin:0;padding:24px;font-family:system-ui,-apple-system,'Segoe UI',Roboto,'Noto Sans KR',sans-serif;background:var(--bg);color:#111;
      display:flex;flex-direction:column;gap:16px;align-items:center;
    }
    h1{margin:0;font-size:20px}
    .controls{display:flex;gap:8px;align-items:center}
    button{
      background:var(--accent);color:white;border:0;padding:10px 14px;border-radius:8px;font-weight:600;cursor:pointer;box-shadow:0 4px 10px rgba(43,138,239,.18);
    }
    .room{
      width:980px;max-width:95vw;height:680px;background:linear-gradient(180deg,#ffffff 0%,#f8fafc 100%);border-radius:14px;padding:20px;box-shadow:0 6px 24px rgba(12,16,20,.06);
      display:grid;grid-template-columns:1fr 1fr;grid-template-rows:90px 1fr 1fr;gap:20px;align-items:start;justify-items:center;
    }
    .monitor{
      grid-column:1 / -1; /* span both columns */
      width:60%;height:64px;border-radius:10px;background:linear-gradient(90deg,#111827,#374151);color:white;display:flex;align-items:center;justify-content:center;font-weight:700;letter-spacing:1px;box-shadow:0 6px 18px rgba(17,24,39,.12);
    }
    /* Table visual styles */
    .table{
      background:var(--table);border-radius:14px;padding:14px;box-shadow:0 4px 12px rgba(16,24,40,.06);display:flex;gap:12px;align-items:center;justify-content:center;flex-wrap:wrap;position:relative;
      min-width:220px;min-height:120px;
    }
    .table .label{position:absolute;top:8px;left:12px;font-size:12px;color:var(--muted)}
    /* Different table shapes */
    .table.four{width:360px;height:160px;display:grid;grid-template-columns:repeat(4,1fr);grid-auto-rows:1fr;padding:12px}
    .table.three{width:300px;height:140px;display:grid;grid-template-columns:repeat(3,1fr);grid-auto-rows:1fr;padding:12px}
    .table.two{width:220px;height:120px;display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:1fr;padding:12px}
    .table.facing{ /* visually face the other table */
      transform: rotate(180deg);
    }
    .table.facing .seat{transform: rotate(180deg);} /* rotate seats back so text is readable */

    .seat{
      display:flex;align-items:center;justify-content:center;height:54px;border-radius:10px;background:linear-gradient(180deg,#ffffff,#fbfdff);font-weight:700;box-shadow:inset 0 -2px 0 rgba(16,24,40,.03);text-align:center;padding:6px;font-size:14px;
    }
    .seat.empty{background:transparent;font-weight:400;color:var(--muted)}
    .meta{display:flex;gap:12px;align-items:center;color:var(--muted);font-size:13px}
    footer{font-size:12px;color:var(--muted)}
    @media (max-width:720px){
      .room{grid-template-columns:1fr;grid-template-rows:auto;grid-auto-rows:auto;height:auto;padding:12px}
      .monitor{width:100%}
      .table{width:92%}
      .table.four{height:140px}
    }
  </style>
</head>
<body>
  <header style="width:980px;max-width:95vw;display:flex;justify-content:space-between;align-items:center">
    <h1>랜덤 좌석 배치</h1>
    <div class="controls">
      <button id="shuffleBtn">좌석배치 (랜덤)</button>
    </div>
  </header>

  <main class="room" role="main" aria-label="강의실 좌석">
    <!-- 모니터 -->
    <div class="monitor" aria-hidden="true">모니터</div>

    <!-- 왼쪽 4인 테이블 (테이블1) -->
    <section class="table four" id="table-1" aria-label="테이블1 - 왼쪽 4인 테이블">
      <div class="label">테이블1 (4인)</div>
      <div class="seat" data-seat="t1-0"></div>
      <div class="seat" data-seat="t1-1"></div>
      <div class="seat" data-seat="t1-2"></div>
      <div class="seat" data-seat="t1-3"></div>
    </section>

    <!-- 오른쪽 4인 테이블 (테이블2) - 마주보는 형태 -->
    <section class="table four facing" id="table-2" aria-label="테이블2 - 오른쪽 4인 테이블 (마주보기)">
      <div class="label">테이블2 (4인)</div>
      <div class="seat" data-seat="t2-0"></div>
      <div class="seat" data-seat="t2-1"></div>
      <div class="seat" data-seat="t2-2"></div>
      <div class="seat" data-seat="t2-3"></div>
    </section>

    <!-- 왼쪽 아래 3인 테이블 (테이블3) -->
    <section class="table three" id="table-3" aria-label="테이블3 - 3인 테이블">
      <div class="label">테이블3 (3인)</div>
      <div class="seat" data-seat="t3-0"></div>
      <div class="seat" data-seat="t3-1"></div>
      <div class="seat" data-seat="t3-2"></div>
    </section>

    <!-- 오른쪽 아래 2인 테이블 (테이블4) -->
    <section class="table two" id="table-4" aria-label="테이블4 - 2인 테이블">
      <div class="label">테이블4 (2인)</div>
      <div class="seat" data-seat="t4-0"></div>
      <div class="seat" data-seat="t4-1"></div>
    </section>
  </main>

  <footer style="width:980px;max-width:95vw;display:flex;justify-content:space-between;align-items:center">
    <div class="meta">학생 수: <strong id="count">13</strong></div>
    <div class="meta">모니터가 앞에 있는 배치</div>
  </footer>

  <script>
    // 학생 명단 (13명)
    const students = [
      '신지원','남기정','변영찬','김윤군','이지안','김준성','김주연','공정배','이유랑','노정운','장수빈','박호정','조진희'
    ];

    // 좌석 순서 (테이블1 -> 테이블2 -> 테이블3 -> 테이블4)
    const seatSelectors = [
      '[data-seat="t1-0"]','[data-seat="t1-1"]','[data-seat="t1-2"]','[data-seat="t1-3"]',
      '[data-seat="t2-0"]','[data-seat="t2-1"]','[data-seat="t2-2"]','[data-seat="t2-3"]',
      '[data-seat="t3-0"]','[data-seat="t3-1"]','[data-seat="t3-2"]',
      '[data-seat="t4-0"]','[data-seat="t4-1"]'
    ];

    function shuffleArray(arr){
      // Fisher–Yates shuffle
      const a = arr.slice();
      for(let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i],a[j]] = [a[j],a[i]];
      }
      return a;
    }

    function assignSeats(){
      const shuffled = shuffleArray(students);
      seatSelectors.forEach((sel, idx)=>{
        const el = document.querySelector(sel);
        if(!el) return;
        const name = shuffled[idx] || '';
        el.textContent = name || '';
        el.classList.toggle('empty', !name);
      });
      document.getElementById('count').textContent = students.length;
    }

    document.getElementById('shuffleBtn').addEventListener('click',assignSeats);
    window.addEventListener('load',assignSeats);
  </script>
</body>
</html>